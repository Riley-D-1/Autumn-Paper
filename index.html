<!DOCTYPE html>
<html lang = "en">
<head>
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallpaper</title>
    <link rel = "stylesheet" href = "style.css">
</head>
<body>
    <canvas id = "wallpaper_window" width = "window.innerWidth" height = "window.innerHeight"></canvas>
</body>
<script>
    const bg_image = new Image()
    bg_image.src = 'assets/wallpaper_bg.png'
    const canvas = document.getElementById("wallpaper_window")
    const ctx = canvas.getContext("2d")
    canvas.width = window.innerWidth
    canvas.height = window.innerHeight
    let leaves_pos = []
    // Width= 911 (1080p width), current img scaling now good :D but leaving here 
    // random number (now need to make it correlate with starting postion)
    // Have to make natural
    // Note that yes it would be easier doing pixel art externally and importing them for the leaves
    //  but that doesn't count for time and this is an intreasting challenge
    //  and I just need to finish the 6 hours of this week on a simple project who's scale can be reduced or expanded
    function create_leaf(){
        let x_pos_start = Math.floor(Math.random()*10)
        leaves.push{"x_start":"","y_val":"","x_val":0};
    }

    function leaf_drift(x_pos_start,time){
        // temp testing values
        caculated_x_pos = 500
        caculated_y_pos = 250
        let random_num = Math.random() 
        console.log(random_num)
        // need to code breeze chances later (not important right now only if time)
        // Give it a chance of major wind drift
        flipped = false
        return [flipped,caculated_y_pos,caculated_x_pos]
    }
  
    function draw_leaf(flipped,y_pos,x_pos){
        const orange_1 = "#ff4f17" //orange shade 1
        ctx.fillStyle = orange_1
        if (flipped === false){
            ctx.fillRect(x_pos,(y_pos+2),10,10)
            ctx.fillRect((x_pos+5),(y_pos+8),10,10)
            ctx.fillRect((x_pos+5),(y_pos+15),15,5)
                
        }else{
            ctx.fillRect(x_pos,(y_pos+2),10,10)
            ctx.fillRect((x_pos-5),(y_pos+8),10,10)
            ctx.fillRect((x_pos-10),(y_pos+15),15,5)
        }
    }

    function draw_tree(){
        // Credit to those in inspo folder but my own pixel art :D
        ctx.drawImage(bg_image, 0, 0, canvas.width, canvas.height)
    }
    function main_function(){
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        draw_tree()
        let flipped
        let x_pos
        let y_pos
        leaves_pos.forEach(leaf => {
            let returned_vals= leaf_drift()
            flipped = returned_vals[0]
            x_pos = returned_vals[1]
            y_pos = returned_vals[2]
        });
        draw_leaf(flipped,x_pos,y_pos)
    }

    function temp_tester(){
        let flipped
        let x_pos
        let y_pos
        leaves_pos.forEach(leaf => {
            let returned_vals= leaf_drift()
            flipped = returned_vals[0]
            x_pos = returned_vals[1]
            y_pos = returned_vals[2]
        });
        draw_leaf(flipped,x_pos,y_pos)
    }
    // What triggers the main seequence.
    setInterval(() => {
            main_function()
    }, 1001)
        // Check for click functionality to trigger more leaves
        // Maybe not the click for now 
</script>
